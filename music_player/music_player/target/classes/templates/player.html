<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            padding:0px;
            margin:0px;
        }
        body{
            width:100vw;
            height:100vh;
            /* background-image: linear-gradient(270deg,#662D8C , #ED1E79); */
            background: linear-gradient(102.2deg, rgb(109, 118, 150) 7.1%, rgb(89, 72, 79) 14.7%, rgb(69, 92, 79) 28%, rgb(204, 85, 67) 43.4%, rgb(237, 181, 121) 60.2%, rgb(219, 230, 175) 76.8%);
            display:flex;
            justify-content:center;
            align-items:center;
        }
        div{
         
            width:30vw;
            height:85vh;
            background-image:url("images/listgirl.jpg");
            background-size:100% 100%;
            /* background-image:linear-gradient(#11998E,#38EF7D); */
           position: relative;
           border-radius:10px;
           box-shadow:0px 2px 15px 2px black;
           

        }
        form{
            
            width:100%;
            height:30vh;
            /* background-color: white; */
            display:flex;
            justify-content:space-evenly;
            align-items:center;
            position:absolute;
            bottom:0px;
        }
        .button,a{
            width:6vw;
            height:12vh;
            border-radius:100%;
            outline:0px;
            border:0px;
            box-shadow:2px 2px 5px 2px  black;

        }
       
       
        .button:active{
            transform:scale(0.9);
        }
        #threeAcnchor{
            position:absolute;
            left:1vw;
            top:1vh;
        }
       
        img{
            width: 100%;
            height: 100%;
        }
       #midleButton{
        background-image:url('images/pause.png');
        background-size:100% 100%;
       }
       #leftButt{
        background-image:url('images/leftButton.png');
        background-size:100% 100%;
        background-repeat:no-repeat;
       
       }
       #rightButt{
        background-image:url('images/next-button.png');
        background-size:100% 100%;
        background-repeat:no-repeat;
       
       }
    </style>
</head>
<body>
    <div>
        <a href="addSong" id="threeAcnchor"><img src="images/threelines.png"></a>
       
       
        <form>
          
            <input type="button" class="button" id="leftButt" onclick="prevSongPlay()">
           <input type="button" class="button" onclick="playAndPause()" id="midleButton">
            <input type="button" class="button" id="rightButt" onclick="nextSongPlay()">
            <audio src="songs/animal.mp3" id="audioMusic" controls  hidden></audio>
        </form>
    </div>
    <script th:inline="javascript">
		/*<![CDATA[*/
	    var songList= /*[[${al}]]*/ [];

        console.log(songList);
        var audioPlayer=document.getElementById('audioMusic');
        var a=0;
        var index=1;
        var inp=document.getElementsByTagName("input");
        function nextSongPlay()
        {
                 audioPlayer.src=songList[a];
                  console.log(songList.length)
                 audioPlayer.play();
                 inp[1].style.backgroundImage=`url(${'images/play.png'})`;
                 index=2;
                 if(a<songList.length-1)
                 {
                 a++;
                 }
        }

        function prevSongPlay()
        {
            audioPlayer.src=songList[a];
            console.log(songList[a]);
             audioPlayer.play();
             inp[1].style.backgroundImage=`url(${'images/play.png'})`;
             index=2;
             if(a>0)
             {
                a--;
             }
        }
      
        function playAndPause()
        {
            if(index==1)
            {
                inp[1].style.backgroundImage=`url(${'images/play.png'})`;
                audioPlayer.play();
                console.log(songList[a]);
                index=2;
            }
            else if(index==2)
            {
                inp[1].style.backgroundImage=`url(${'images/pause.png'})`;
                audioPlayer.pause();
                index=1;
            }
        }
        
        var m=1;
        function playFromView(song)
        {
			if(m==1)
			{
				inp[1].style.backgroundImage=`url(${'images/play.png'})`;
				audioPlayer.src=song;
                audioPlayer.play();
                m=2;
			}
			else if(m==2)
			{
				inp[1].style.backgroundImage=`url(${'images/pause.png'})`;
				audioPlayer.src=song;
                audioPlayer.pause();
                m=1;
			}
		}
       /*]]>*/
    </script>
    
    <script th:if="${getSong!=null}" th:inline="javascript">
		/*<![CDATA[*/
		playFromView(/*[[${getSong}]]*/ '');
		
		var songList= /*[[${al}]]*/ [];

        console.log(songList);
        var audioPlayer=document.getElementById('audioMusic');
        var a=0;
        var index=1;
        var inp=document.getElementsByTagName("input");
        function nextSongPlay()
        {
                 audioPlayer.src=songList[a];
                  console.log(songList.length)
                 audioPlayer.play();
                 inp[1].style.backgroundImage=`url(${'images/play.png'})`;
                 index=2;
                 if(a<songList.length-1)
                 {
                 a++;
                 }
        }

        function prevSongPlay()
        {
            audioPlayer.src=songList[a];
            console.log(songList[a]);
             audioPlayer.play();
             inp[1].style.backgroundImage=`url(${'images/play.png'})`;
             index=2;
             if(a>0)
             {
                a--;
             }
        }
      
        function playAndPause()
        {
            if(index==1)
            {
                inp[1].style.backgroundImage=`url(${'images/play.png'})`;
                audioPlayer.play();
                console.log(songList[a]);
                index=2;
            }
            else if(index==2)
            {
                inp[1].style.backgroundImage=`url(${'images/pause.png'})`;
                audioPlayer.pause();
                index=1;
            }
        }
		/*]]>*/
	</script>
</body>
</html>